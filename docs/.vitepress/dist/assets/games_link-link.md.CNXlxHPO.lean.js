import{_ as w}from"./chunks/lodash.B4c3keQ2.js";import{g as L}from"./chunks/array.util.DVdZD237.js";import{e as W,r as m,a0 as N,j as A,k as o,p as u,n as r,v as b,m as G,y as U,F as I,P as O,u as Z,q as j,H,a6 as J,a7 as Q,Q as P}from"./chunks/framework.DXL0bVlL.js";import"./chunks/theme.DXIttjq3.js";import"./chunks/number.util.Cpjkx7EM.js";const K=(s=1)=>{let a=[16711680,65280,255];if(s<2)return a.map(h=>`#${h.toString(16).padStart(6,"0")}`);a.push(a[0]);let t=[];for(let h=0;h<a.length-1;h++){const e=a[h],B=a[h+1],y=((B>>16&255)-(e>>16&255))/s,F=((B>>8&255)-(e>>8&255))/s,d=((B&255)-(e&255))/s;let c=s;for(t.push(a[h]);--c>0;){const n=s-c;t.push((Math.floor((e>>16&255)+n*y)<<16)+(Math.floor((e>>8&255)+n*F)<<8)+(Math.floor((e>>0&255)+n*d)<<0))}}return t.map(h=>`#${h.toString(16).padStart(6,"0")}`)};class X{constructor(a,t){this.row=a,this.col=t}}const Y=W({name:"link-link",props:{},setup(s,a){const y=[[1,-1,0,0],[0,0,1,-1]],F=m(0),d=[["初级",1],["中级",3],["高级",10],["变态",20],["神仙",50]],c=()=>L(K(d[F.value][1]),20,!0),n=()=>new Array(10).fill(0).map((i,l)=>new Array(16).fill(0).map((p,k)=>new X(l,k))),g=i=>{const l=w.shuffle(c()),p=w.sampleSize(w.flatten(i),20*2);for(let k=0;k<20;k++)p[k*2].color=p[k*2+1].color=l[k]},S=m(0),E=m(null),T=m(!1),D=m(n()),M=(i,l)=>{if(i.color!==l.color)return[];const p=[[i,[i],-1,0]];for(;p.length;){const[k,f,z,q]=p.shift();if(!(q>3)){if(k===l)return f;if(!(k.color&&k!==i))for(let C=0;C<4;C++){const v=k.row+y[0][C],_=k.col+y[1][C];if(v<0||v>=10||_<0||_>=16)continue;const x=D.value[v][_];f.find($=>$===x)||p.push([x,f.concat([x]),C,C===z?q:q+1])}}}return[]},R=()=>{D.value=n(),g(D.value),S.value=2};R();const V=i=>{if(!i.color||E.value===i)return;if(!E.value)return E.value=i;const l=M(E.value,i);if(!l.length)return E.value=i;l.slice(1,-1),E.value.color=i.color="",E.value=null,setTimeout(()=>l.map(p=>p.color="#e3e3e3")),setTimeout(()=>l.map(p=>p.color=""),50)};return{map:D,level:F,levels:d,ROW:10,COL:16,SIZE:160,PAIR:20,showColorTitle:T,levelsOptions:d.map((i,l)=>({label:i[0],value:l})),onMouseDown:V,startGame:R,gridStyle:i=>({"background-color":i.color||"#fafafa"}),gridBoxClass:i=>[i.color?"active":"",E.value===i?"focus":""]}}}),ss=s=>(J("data-v-ce4767f2"),s=s(),Q(),s),is={class:"flex-column"},as={class:"flex-horiz mb-xs"},ns={class:""},hs={class:"ml-xs"},ls=ss(()=>r("div",{class:"flex-grow"},null,-1)),ks={class:""},ps={class:"game-container"},ts={class:"flex-horiz grid-row"},es=["title","onMousedown"];function Es(s,a,t,h,e,B){const y=A("a-button"),F=A("a-select"),d=A("a-switch"),c=A("a-tooltip");return o(),u("div",{class:"link-link flex-column flex-center-all",onContextmenu:a[2]||(a[2]=H(n=>n,["prevent"]))},[r("div",is,[r("div",as,[r("div",ns,[b(y,{type:"primary",onClick:s.startGame},{default:G(()=>[U("重新开始")]),_:1},8,["onClick"])]),r("div",hs,[b(F,{options:s.levelsOptions,modelValue:s.level,"onUpdate:modelValue":a[0]||(a[0]=n=>s.level=n),style:{width:"100px"},"onUpdate:value":s.startGame},null,8,["options","modelValue","onUpdate:value"])]),ls,r("div",ks,[b(c,{placement:"top-end",trigger:"hover",content:"开启后将鼠标停留在色块上，将显示颜色色值。"},{default:G(()=>[b(d,{modelValue:s.showColorTitle,"onUpdate:modelValue":a[1]||(a[1]=n=>s.showColorTitle=n)},null,8,["modelValue"])]),_:1})])]),r("div",ps,[(o(!0),u(I,null,O(s.map,n=>(o(),u("div",ts,[(o(!0),u(I,null,O(n,g=>(o(),u("div",{class:Z(["grid-box",s.gridBoxClass(g)])},[r("div",{class:"grid border-box",style:j(s.gridStyle(g)),title:s.showColorTitle&&g.color?g.color:void 0,onMousedown:S=>s.onMouseDown(g)},null,44,es)],2))),256))]))),256))])])],32)}const rs=N(Y,[["render",Es],["__scopeId","data-v-ce4767f2"]]),ds=P("",5),gs=P("",9),bs=JSON.parse('{"title":"🌈连连看","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"games/link-link.md","filePath":"games/link-link.md"}'),ys={name:"games/link-link.md"},Bs=Object.assign(ys,{setup(s){return(a,t)=>{const h=A("ClientOnly");return o(),u("div",null,[ds,b(h,null,{default:G(()=>[b(rs)]),_:1}),gs])}}});export{bs as __pageData,Bs as default};
