import{_ as k}from"./chunks/lodash.783d75e0.js";import{g as N}from"./chunks/array.util.aa365c9a.js";import{d as V,h as D,_ as Z,C as f,o as d,c as B,k as r,H as A,w as v,a as U,F as I,D as O,n as j,N as H,X as J,p as Q,m as X,Q as M}from"./chunks/framework.88ad42b5.js";import"./chunks/commonjsHelpers.725317a4.js";import"./chunks/number.util.14bcf861.js";const K=(s=1)=>{let a=[16711680,65280,255];if(s<2)return a.map(l=>`#${l.toString(16).padStart(6,"0")}`);a.push(a[0]);let t=[];for(let l=0;l<a.length-1;l++){const E=a[l],g=a[l+1],u=((g>>16&255)-(E>>16&255))/s,C=((g>>8&255)-(E>>8&255))/s,i=((g&255)-(E&255))/s;let b=s;for(t.push(a[l]);--b>0;){const p=s-b;t.push((Math.floor((E>>16&255)+p*u)<<16)+(Math.floor((E>>8&255)+p*C)<<8)+(Math.floor((E>>0&255)+p*i)<<0))}}return t.map(l=>`#${l.toString(16).padStart(6,"0")}`)};class Y{constructor(a,t){this.row=a,this.col=t}}const ss=V({name:"link-link",props:{},setup(s,a){const u=[[1,-1,0,0],[0,0,1,-1]],C=D(0),i=[["初级",1],["中级",3],["高级",10],["变态",20],["神仙",50]],b=()=>N(K(i[C.value][1]),20,!0),p=()=>new Array(10).fill(0).map((n,o)=>new Array(16).fill(0).map((c,e)=>new Y(o,e))),F=n=>{const o=k.shuffle(b()),c=k.sampleSize(k.flatten(n),20*2);for(let e=0;e<20;e++)c[e*2].color=c[e*2+1].color=o[e]},R=D(0),y=D(null),T=D(!1),h=D(p()),z=(n,o)=>{if(n.color!==o.color)return[];const c=[[n,[n],-1,0]];for(;c.length;){const[e,q,W,x]=c.shift();if(!(x>3)){if(e===o)return q;if(!(e.color&&e!==n))for(let m=0;m<4;m++){const _=e.row+u[0][m],w=e.col+u[1][m];if(_<0||_>=10||w<0||w>=16)continue;const G=h.value[_][w];q.find($=>$===G)||c.push([G,q.concat([G]),m,m===W?x:x+1])}}}return[]},S=()=>{h.value=p(),F(h.value),R.value=2};S();const L=n=>{if(!n.color||y.value===n)return;if(!y.value)return y.value=n;const o=z(y.value,n);if(!o.length)return y.value=n;o.slice(1,-1),y.value.color=n.color="",y.value=null,setTimeout(()=>o.map(c=>c.color="#e3e3e3")),setTimeout(()=>o.map(c=>c.color=""),50)};return{map:h,level:C,levels:i,ROW:10,COL:16,SIZE:160,PAIR:20,showColorTitle:T,levelsOptions:i.map((n,o)=>({label:n[0],value:o})),onMouseDown:L,startGame:S,gridStyle:n=>({"background-color":n.color||"#fafafa"}),gridBoxClass:n=>[n.color?"active":"",y.value===n?"focus":""]}}});const P=s=>(Q("data-v-ebbe3771"),s=s(),X(),s),ns=["onContextmenu"],as={class:"flex-column"},ls={class:"flex-horiz mb-xs"},ps={class:""},os={class:"ml-xs"},es=P(()=>r("div",{class:"flex-grow"},null,-1)),cs={class:""},rs=P(()=>r("span",null,"开启后将鼠标停留在色块上，将显示颜色色值。",-1)),ts={class:"game-container"},Es={class:"flex-horiz grid-row"},ys=["title","onMousedown"];function is(s,a,t,l,E,g){const u=f("n-button"),C=f("n-select"),i=f("n-switch"),b=f("n-tooltip");return d(),B("div",{class:"link-link flex-column flex-center-all",onContextmenu:J(p=>"",["prevent"])},[r("div",as,[r("div",ls,[r("div",ps,[A(u,{type:"primary",onClick:s.startGame},{default:v(()=>[U("重新开始")]),_:1},8,["onClick"])]),r("div",os,[A(C,{options:s.levelsOptions,value:s.level,"onUpdate:value":[a[0]||(a[0]=p=>s.level=p),s.startGame],style:{width:"100px"}},null,8,["options","value","onUpdate:value"])]),es,r("div",cs,[A(b,{placement:"top-end",trigger:"hover"},{trigger:v(()=>[A(i,{value:s.showColorTitle,"onUpdate:value":a[1]||(a[1]=p=>s.showColorTitle=p)},null,8,["value"])]),default:v(()=>[rs]),_:1})])]),r("div",ts,[(d(!0),B(I,null,O(s.map,p=>(d(),B("div",Es,[(d(!0),B(I,null,O(p,F=>(d(),B("div",{class:j(["grid-box",s.gridBoxClass(F)])},[r("div",{class:"grid border-box",style:H(s.gridStyle(F)),title:s.showColorTitle&&F.color?F.color:void 0,onMousedown:R=>s.onMouseDown(F)},null,44,ys)],2))),256))]))),256))])])],40,ns)}const Fs=Z(ss,[["render",is],["__scopeId","data-v-ebbe3771"]]),us=M("",5),Cs=M("",9),Ds=JSON.parse('{"title":"🌈连连看","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"games/link-link.md","filePath":"games/link-link.md"}'),bs={name:"games/link-link.md"},fs=Object.assign(bs,{setup(s){return(a,t)=>{const l=f("ClientOnly");return d(),B("div",null,[us,A(l,null,{default:v(()=>[A(Fs)]),_:1}),Cs])}}});export{Ds as __pageData,fs as default};
