import{_ as G}from"./chunks/lodash.4dce4bbd.js";import{g as V}from"./chunks/array.util.aa365c9a.js";import{d as $,h as D,_ as N,C as f,o as d,c as B,k as y,H as A,w as k,a as Z,F as I,D as O,n as U,N as j,X as H,p as J,m as Q,Q as M}from"./chunks/framework.cac9be51.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/number.util.14bcf861.js";const X=(s=1)=>{let a=[16711680,65280,255];if(s<2)return a.map(p=>`#${p.toString(16).padStart(6,"0")}`);a.push(a[0]);let r=[];for(let p=0;p<a.length-1;p++){const t=a[p],g=a[p+1],u=((g>>16&255)-(t>>16&255))/s,C=((g>>8&255)-(t>>8&255))/s,i=((g&255)-(t&255))/s;let b=s;for(r.push(a[p]);--b>0;){const l=s-b;r.push((Math.floor((t>>16&255)+l*u)<<16)+(Math.floor((t>>8&255)+l*C)<<8)+(Math.floor((t>>0&255)+l*i)<<0))}}return r.map(p=>`#${p.toString(16).padStart(6,"0")}`)};class K{constructor(a,r){this.row=a,this.col=r}}const Y=$({name:"link-link",props:{},setup(s,a){const u=[[1,-1,0,0],[0,0,1,-1]],C=D(0),i=[["初级",1],["中级",3],["高级",10],["变态",20],["神仙",50]],b=()=>V(X(i[C.value][1]),20,!0),l=()=>new Array(10).fill(0).map((n,o)=>new Array(16).fill(0).map((c,e)=>new K(o,e))),F=n=>{const o=G.shuffle(b()),c=G.sampleSize(G.flatten(n),20*2);for(let e=0;e<20;e++)c[e*2].color=c[e*2+1].color=o[e]},R=D(0),E=D(null),P=D(!1),q=D(l()),T=(n,o)=>{if(n.color!==o.color)return[];const c=[[n,[n],-1,0]];for(;c.length;){const[e,h,L,v]=c.shift();if(!(v>3)){if(e===o)return h;if(!(e.color&&e!==n))for(let m=0;m<4;m++){const x=e.row+u[0][m],_=e.col+u[1][m];if(x<0||x>=10||_<0||_>=16)continue;const w=q.value[x][_];h.find(W=>W===w)||c.push([w,h.concat([w]),m,m===L?v:v+1])}}}return[]},S=()=>{q.value=l(),F(q.value),R.value=2};S();const z=n=>{if(!n.color||E.value===n)return;if(!E.value)return E.value=n;const o=T(E.value,n);if(!o.length)return E.value=n;o.slice(1,-1),E.value.color=n.color="",E.value=null,setTimeout(()=>o.map(c=>c.color="#e3e3e3")),setTimeout(()=>o.map(c=>c.color=""),50)};return{map:q,level:C,levels:i,ROW:10,COL:16,SIZE:160,PAIR:20,showColorTitle:P,levelsOptions:i.map((n,o)=>({label:n[0],value:o})),onMouseDown:z,startGame:S,gridStyle:n=>({"background-color":n.color||"#fafafa"}),gridBoxClass:n=>[n.color?"active":"",E.value===n?"focus":""]}}});const ss=s=>(J("data-v-ce4767f2"),s=s(),Q(),s),ns={class:"flex-column"},as={class:"flex-horiz mb-xs"},ls={class:""},ps={class:"ml-xs"},os=ss(()=>y("div",{class:"flex-grow"},null,-1)),es={class:""},cs={class:"game-container"},rs={class:"flex-horiz grid-row"},ts=["title","onMousedown"];function Es(s,a,r,p,t,g){const u=f("a-button"),C=f("a-select"),i=f("a-switch"),b=f("a-tooltip");return d(),B("div",{class:"link-link flex-column flex-center-all",onContextmenu:a[2]||(a[2]=H(l=>l,["prevent"]))},[y("div",ns,[y("div",as,[y("div",ls,[A(u,{type:"primary",onClick:s.startGame},{default:k(()=>[Z("重新开始")]),_:1},8,["onClick"])]),y("div",ps,[A(C,{options:s.levelsOptions,modelValue:s.level,"onUpdate:modelValue":a[0]||(a[0]=l=>s.level=l),style:{width:"100px"},"onUpdate:value":s.startGame},null,8,["options","modelValue","onUpdate:value"])]),os,y("div",es,[A(b,{placement:"top-end",trigger:"hover",content:"开启后将鼠标停留在色块上，将显示颜色色值。"},{default:k(()=>[A(i,{modelValue:s.showColorTitle,"onUpdate:modelValue":a[1]||(a[1]=l=>s.showColorTitle=l)},null,8,["modelValue"])]),_:1})])]),y("div",cs,[(d(!0),B(I,null,O(s.map,l=>(d(),B("div",rs,[(d(!0),B(I,null,O(l,F=>(d(),B("div",{class:U(["grid-box",s.gridBoxClass(F)])},[y("div",{class:"grid border-box",style:j(s.gridStyle(F)),title:s.showColorTitle&&F.color?F.color:void 0,onMousedown:R=>s.onMouseDown(F)},null,44,ts)],2))),256))]))),256))])])],32)}const ys=N(Y,[["render",Es],["__scopeId","data-v-ce4767f2"]]),is=M("",5),Fs=M("",9),As=JSON.parse('{"title":"🌈连连看","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"games/link-link.md","filePath":"games/link-link.md"}'),us={name:"games/link-link.md"},gs=Object.assign(us,{setup(s){return(a,r)=>{const p=f("ClientOnly");return d(),B("div",null,[is,A(p,null,{default:k(()=>[A(ys)]),_:1}),Fs])}}});export{As as __pageData,gs as default};
