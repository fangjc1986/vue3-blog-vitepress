import{_ as g}from"./chunks/lodash.aK6H4lhT.js";import{M as v}from"./chunks/ai.util.ui8BT-Ug.js";import{S}from"./chunks/start-over-mask.DM_cgGdI.js";import{e as x,r as y,c as M,a0 as I,h as D,n as l,k as e,m as o,A as T,t as F,F as b,Q as m,s as O,p as C,l as B,R as _}from"./chunks/framework.BULi5HC7.js";import"./chunks/theme.HcMMCyBp.js";const N="/vue3-blog-vitepress/tic-tac-toe/minimax.webp",R="/vue3-blog-vitepress/tic-tac-toe/p2.webp",L=x({name:"tic-tac-toe",components:{StartOverMask:S},props:{},setup(i){let s=y(new Array(9).fill(""));const n=y(1),a=y(!0),h=new v(10).setNextLevelState(q).setIsLeafState(u).setEvaluateResult(P),k=()=>{const t=u(s.value);if(t===!0)return n.value=5;t?n.value=t===E?3:4:s.value.every(r=>r!=="")&&(n.value=5)},d=()=>{if(n.value!==2)return;const t=h.getBestChoiceByState(g.clone(s.value));t!=null&&(s.value=t,a.value=!0,k())};return{X:c,O:E,turnUser:a,gameState:n,chessState:M(()=>g.chunk(s.value,3)),onClickItem:(t,r)=>{if(n.value!==2)return;const p=t*3+r;!a.value||s.value[p]!=""||(a.value=!1,s.value[p]=E,k(),setTimeout(d.bind(this),10))},onClickRestart:()=>{s.value=new Array(9).fill(""),n.value=2,a.value=g.sample([!0,!1]),a.value||setTimeout(d.bind(this),10)}}}}),c="X",E="O",A="",w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],u=i=>{for(const s of[E,c])if(w.some(n=>n.map(h=>i[h]).every(h=>h===s)))return s;return!!i.every(s=>s!=="")},q=function*(i,s){const n=s.reduce((a,h,k)=>(h===A&&a.push(k),a),[]).sort(()=>Math.random()-.5);for(let a=0;a<n.length;a++)s[n[a]]=i?c:E,yield s,s[n[a]]=A,yield s},P=i=>{const s=u(i);return s===!0?0:s===c?10:-10},V={class:"tic-tac-toe flex-center-all flex-column vue-component-container"},$={class:"mb-sm"},X={class:"bca-border pos-r",style:{padding:"5px"}},z={class:"row flex-horiz flex-center-all"},U=["onClick"],W={key:0,class:"iconfont icon-close-line"},j={key:1,class:"iconfont icon-checkbox-blank-circle-line",style:{"font-size":"0.8em"}},G={class:"mb-sm",style:{"font-size":"30px"}},J={key:0},Q={key:1},Y={key:2};function H(i,s,n,a,h,k){const d=D("start-over-mask");return e(),l("div",V,[o("div",$,"轮到 "+T(i.turnUser?"您":"AI")+" 走棋",1),o("div",X,[(e(!0),l(b,null,m(i.chessState,(t,r)=>(e(),l("div",z,[(e(!0),l(b,null,m(t,(p,f)=>(e(),l("div",{class:O(["item flex-horiz flex-center-all",[p==="O"?"color-primary":"color-error",p===""?"cursor-p":""]]),onClick:as=>i.onClickItem(r,f)},[p===i.X?(e(),l("i",W)):p===i.O?(e(),l("i",j)):C("",!0)],10,U))),256))]))),256)),F(d,{status:i.gameState,onOnClickStart:i.onClickRestart},{default:B(()=>[o("div",G,[i.gameState===3?(e(),l("span",J,"你赢了")):i.gameState===4?(e(),l("span",Q,"你输了")):i.gameState===5?(e(),l("span",Y,"棋逢对手")):C("",!0)])]),_:1},8,["status","onOnClickStart"])])])}const K=I(L,[["render",H],["__scopeId","data-v-b593245e"]]),Z=_("",4),ss=_("",9),ps=JSON.parse('{"title":"AI 井字棋","description":"","frontmatter":{},"headers":[],"relativePath":"games/tic-tac-toe.md","filePath":"games/tic-tac-toe.md"}'),is={name:"games/tic-tac-toe.md"},ks=Object.assign(is,{setup(i){return(s,n)=>{const a=D("ClientOnly");return e(),l("div",null,[Z,F(a,null,{default:B(()=>[F(K)]),_:1}),ss])}}});export{ps as __pageData,ks as default};
