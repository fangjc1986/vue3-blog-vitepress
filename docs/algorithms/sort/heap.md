---
outline: deep
---

<script setup>
import HeapSort from "../../.vitepress/components/algorithms/sort/heap-sort.vue";
</script>

# 堆（二叉树）排序（Heap Sort）

## 介绍 

堆排序（Heap Sort）是一种基于堆数据结构的比较排序算法。堆是一种特殊的二叉树数据结构，
分为最大堆和最小堆。在最大堆中，父节点的值都大于或等于其子节点的值；在最小堆中，
父节点的值都小于或等于其子节点的值。堆排序通常使用最大堆进行升序排序，使用最小堆则可以降序排序。

:::tip 空间复杂度解释
我这里的实现使用的是比较容易理解的递归堆排序，需要额外的栈空间 O(log n);
:::

## 动画模拟

<div class="mtb-md">
<ClientOnly>
<HeapSort />
</ClientOnly>
</div>

## 工作原理

堆排序的核心思想是利用堆这种结构，每次将堆顶元素（最大或最小）取出，然后调整剩余的堆，直到所有元素都被排好序。具体步骤如下：

- **构建最大堆：** 将无序数组调整为一个符合最大堆性质的结构。从最后一个非叶子节点开始，自底向上依次调整每个节点，使其符合最大堆的性质。
- **取出堆顶元素：** 将最大堆的根节点（即最大值）与最后一个节点交换，并把最大值放在数组末尾。此时，最大值已在正确的位置。
- **重新调整堆：** 去掉已排好的元素，重新调整剩下的部分，使其再次成为一个最大堆。
- **重复步骤：** 继续取出堆顶元素并重新调整堆，直到堆中只剩下一个元素，排序完成。


## 算法特性

- **时间复杂度：** 堆排序的时间复杂度为O(n log n)，其中n是待排序元素的数量。这个复杂度在最好、最坏和平均情况下都是一致的，因此堆排序的性能是稳定的。
- **空间复杂度：** 堆排序的空间复杂度为O(1)，因为它只需要一个与待排序元素数量相等的数组空间，不需要额外的辅助空间。
- **原地排序：** 堆排序是一种原地排序算法，不需要额外的存储空间来存储待排序的元素。
- **不稳定性：** 堆排序是一种不稳定的排序算法，因为相同元素的相对位置可能会因为堆的调整而发生变化。
- **适用性：** 堆排序在处理大规模数据集时具有显著的优势，因为它在构建堆和调整堆的过程中是逐步进行的，不需要像快速排序那样递归地划分数据。此外，堆排序还可以作为优先级队列的基础，实现高效的插入、删除和获取操作。

## 源码

<<< @/.vitepress/components/algorithms/sort/heap-sort.vue

